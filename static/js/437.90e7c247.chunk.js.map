{"version":3,"file":"static/js/437.90e7c247.chunk.js","mappings":"4MACA,EAAuB,0BAAvB,EAAyD,2BAAzD,EAAgG,+BAAhG,EAA6I,iCAA7I,EAAoL,yB,SCGrK,SAASA,EAAT,GAAkC,IAAZC,EAAW,EAAXA,SAEnC,GAAwBC,EAAAA,EAAAA,UAAS,IAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KAEMC,EAAoB,SAAAC,GACxB,MAAsBA,EAAEC,OAAjBN,EAAP,EAAOA,KAAMO,EAAb,EAAaA,MAEb,OAAQP,GACN,IAAK,OACHC,EAAQM,GACR,MACF,IAAK,SACHJ,EAAUI,GACV,MACF,QACE,OAEL,EAeC,OACE,kBAAMC,UAAWC,EAAUX,SAbV,SAAAO,GACnBA,EAAEK,iBAMFZ,EAJiB,CACfE,KAAAA,EACAE,OAAAA,IAGFD,EAAQ,IACRE,EAAU,GACX,EAGG,WACE,eAAIK,UAAWC,EAAf,mBACA,kBACED,UAAWC,EACXE,KAAK,OACLX,KAAK,OACLY,QAAQ,yHACRC,MAAM,yIACNC,YAAa,eACbC,UAAQ,EACRR,MAAOP,EACPgB,SAAUZ,KAEZ,eAAII,UAAWC,EAAf,qBACA,kBACED,UAAWC,EACXE,KAAK,MACLX,KAAK,SACLY,QAAQ,yFACRC,MAAM,+FACNC,YAAa,uBACbC,UAAQ,EACRR,MAAOL,EACPc,SAAUZ,KAEZ,mBAAQI,UAAWC,EAASE,KAAK,SAAjC,2BAKL,C,cCnEH,EAAwB,sBAAxB,EAA4D,4BAA5D,EAAiG,uB,oBCApFM,EAAgB,SAAAC,GAAK,OAAIA,EAAMC,SAASC,SAAnB,EAErBC,EAAe,SAACH,GAAD,OAAWA,EAAMC,SAASG,MAA1B,EACfC,EAAyB,SAACL,GAAD,OAJR,SAACA,GAAD,OAAWA,EAAMC,SAASK,IAA1B,CAImBC,CAAeP,GAAOI,QAAO,SAAAI,GAAO,OACnFA,EAAQ1B,KAAK2B,cAAcC,SAASP,EAAaH,GAAOS,cAD2B,GAA/C,ECwBtC,EAtBe,WACb,IAAME,GAAWC,EAAAA,EAAAA,MACXR,GAASS,EAAAA,EAAAA,IAAYV,GAM3B,OACE,iBAAKb,UAAWC,EAAhB,WACE,eAAID,UAAWC,EAAf,oCACA,kBACED,UAAWC,EACXE,KAAK,OACLX,KAAK,SACLO,MAAOe,EACPN,SAZe,SAAAX,GACnBwB,GAASG,EAAAA,EAAAA,GAAU3B,EAAEC,OAAOC,OAC7B,MAcF,E,kDCWD,MA7BA,SAA0B0B,EAAWC,GA0BnC,OAzB8B,SAAAC,GAC5B,IAAMN,GAAWC,EAAAA,EAAAA,MACXM,GAAaL,EAAAA,EAAAA,IAAYM,EAAAA,IAW/B,OATAC,EAAAA,EAAAA,YAAU,WACHC,aAAaC,QAAQ,SAK1BX,GAASY,EAAAA,EAAAA,OAJPZ,GAASa,EAAAA,EAAAA,IAAc,GAK1B,GAAE,CAACb,KAEe,IAAfO,GACK,SAAC,KAAD,CAAUO,GAAIT,KAGJ,IAAfE,GACK,SAACH,GAAD,UAAeE,KAIjB,4CACR,CAGF,E,UClCD,EAAsB,sBAAtB,EAA2D,+BCqD3D,MAAeS,GA3Cf,WACE,IAAMf,GAAWC,EAAAA,EAAAA,MACXM,GAAaL,EAAAA,EAAAA,IAAYM,EAAAA,IACzBlB,GAAWY,EAAAA,EAAAA,IAAYR,GACvBH,GAAYW,EAAAA,EAAAA,IAAYd,GAiB9B,OAdAqB,EAAAA,EAAAA,YAAU,WACJF,GAEJP,GAASgB,EAAAA,EAAAA,MACV,GAAE,CAACT,EAAYP,KAWd,4BACA,SAAChC,EAAD,CAAaC,SAVM,SAACgD,GACpBjB,GAASkB,EAAAA,EAAAA,IAAkBD,GAC5B,IASE1B,IAAa,SAAC4B,EAAA,EAAD,KACb,SAAC,EAAD,KACQ,OAAR7B,QAAQ,IAARA,OAAA,EAAAA,EAAU8B,QAAS,IAAK,eAAIzC,UAAWC,EAAf,SACtBU,EAAS+B,KAAI,SAAAxB,GACZ,OACE,2BACE,4BACA,kCAAUA,EAAQ1B,SAClB,oCAAY0B,EAAQxB,cAEpB,mBAAQM,UAAWC,EAAS0C,QAAS,kBAjBlBC,EAiB4C1B,EAAQ2B,QAhB/ExB,GAASyB,EAAAA,EAAAA,IAAqBF,IADJ,IAACA,CAiBkB,EAArC,sBALO1B,EAAQ2B,GAQpB,QAIN,GAE6C,S","sources":["webpack://react-homework-template/./src/components/ContactForm/ContactForm.module.css?b5b2","components/ContactForm/ContactForm.jsx","webpack://react-homework-template/./src/components/Filter/Filter.module.css?fad1","redux/contactsSlice/selectors.js","components/Filter/Filter.jsx","HOC/WithAuthRedirect.jsx","webpack://react-homework-template/./src/pages/Contacts/Contacts.module.css?fb9d","pages/Contacts/Contacts.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"ContactForm_form__dhl+T\",\"title\":\"ContactForm_title__jZguf\",\"nameInput\":\"ContactForm_nameInput__QSf3L\",\"numberInput\":\"ContactForm_numberInput__fY5H2\",\"btn\":\"ContactForm_btn__wll+u\"};","import { useState } from 'react';\nimport css from './ContactForm.module.css';\n\n\nexport default function ContactForm({onSubmit}) {\n\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n\n  const handleInputChange = e => {\n    const {name, value} = e.target;\n    \n    switch (name) {\n      case 'name':\n        setName(value);\n        break;  \n      case 'number':\n        setNumber(value);\n        break;\n      default:\n        return;\n    }\n  }\n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    const formData = {\n      name,\n      number\n    }\n    onSubmit(formData);\n    setName('');\n    setNumber('');\n  };\n  \n    return (\n      <form className={css.form} onSubmit={handleSubmit}>\n        <h3 className={css.title}>Name</h3>\n        <input\n          className={css.nameInput}\n          type=\"text\"\n          name=\"name\"\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n          placeholder={'Enter a name'}\n          required\n          value={name}\n          onChange={handleInputChange}\n        />\n        <h3 className={css.title}>Number</h3>\n        <input\n          className={css.numberInput}\n          type=\"tel\"\n          name=\"number\"\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\n          placeholder={'Enter a phone number'}\n          required\n          value={number}\n          onChange={handleInputChange}\n        />\n        <button className={css.btn} type=\"submit\">\n          Add contact\n        </button>\n      </form>\n    );\n  }\n\n\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Filter_title__pSkfx\",\"inputFilter\":\"Filter_inputFilter__8QMOp\",\"filter\":\"Filter_filter__vxThR\"};","export const selectContacts = (state) => state.contacts.data;\nexport const selectLoading = state => state.contacts.isLoading;\nexport const selectError = state => state.contacts.error;\nexport const selectFilter = (state) => state.contacts.filter;\nexport const selectFilteredContacts = (state) => selectContacts(state).filter(contact =>\n  contact.name.toLowerCase().includes(selectFilter(state).toLowerCase())\n);","import css from './Filter.module.css';\nimport { setFilter } from '../../redux/contactsSlice/contactsSlice';\nimport { useSelector,useDispatch } from 'react-redux';\nimport { selectFilter } from '../../redux/contactsSlice/selectors';\n\n\nconst Filter = () => {\n  const dispatch = useDispatch();\n  const filter = useSelector(selectFilter);\n\n  const handleFilter = e => {\n    dispatch(setFilter(e.target.value));\n  };\n  \n  return (\n    <div className={css.filter}>\n      <h4 className={css.title}>Find contacts by name</h4>\n      <input\n        className={css.inputFilter}\n        type=\"text\"\n        name=\"filter\"\n        value={filter}\n        onChange={handleFilter}\n      />\n    </div>\n  );\n};\n\nexport default Filter;\n","\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Navigate } from 'react-router-dom';\nimport { selectIsLoggedIn } from 'redux/userSlice/selectors';\nimport { setIsLoggedIn } from 'redux/userSlice/userSlice';\nimport { getCurrentUserRequest } from '../redux/userSlice/operations';\n\nfunction WithAuthRedirect(Component, navigateTo) {\n  const ComponentWithRedirect = props => {\n    const dispatch = useDispatch();\n    const isLoggedIn = useSelector(selectIsLoggedIn);\n\n    useEffect(() => {\n      if (!localStorage.getItem('token')) {\n        dispatch(setIsLoggedIn(false))\n        return\n      }\n  \n      dispatch(getCurrentUserRequest())\n    }, [dispatch])\n\n    if (isLoggedIn === false) {\n      return <Navigate to={navigateTo} />\n    }\n\n    if (isLoggedIn === true) {\n      return <Component {...props} />\n    }\n  \n    \n    return <div>Loading user...</div>;\n  };\n\n  return ComponentWithRedirect;\n}\n\nexport default WithAuthRedirect;","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"Contacts_btn__RQTAr\",\"contactslist\":\"Contacts_contactslist__-kV5F\"};","import ContactForm from \"components/ContactForm/ContactForm\";\nimport Loader from \"components/Loader\";\nimport Filter from \"components/Filter/Filter\";\nimport WithAuthRedirect from \"HOC/WithAuthRedirect\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addContactRequest, deleteContactRequest, getContactsRequest } from \"redux/contactsSlice/operations\";\nimport { selectFilteredContacts, selectLoading} from \"redux/contactsSlice/selectors\";\nimport {selectIsLoggedIn} from \"redux/userSlice/selectors\";\nimport css from '../Contacts/Contacts.module.css';\n\nfunction ContactsPage() {\n  const dispatch = useDispatch();\n  const isLoggedIn = useSelector(selectIsLoggedIn);\n  const contacts = useSelector(selectFilteredContacts);\n  const isLoading = useSelector(selectLoading);\n\n\n  useEffect(() => {\n    if(!isLoggedIn) return;\n\n    dispatch(getContactsRequest());\n  }, [isLoggedIn, dispatch])\n\n  const handleSubmit = (formData) => {\n    dispatch(addContactRequest(formData))\n  }\n\n  const handleDeleteContact = (contactId) => {\n    dispatch(deleteContactRequest(contactId))\n  }\n\n  return (\n    <div>\n    <ContactForm onSubmit={handleSubmit}/>\n    {isLoading && <Loader/>}\n    {<Filter/>}\n    {contacts?.length > 0 && <ul className={css.contactslist}>\n      {contacts.map(contact => {\n        return (\n          <li key={contact.id}>\n            <div>\n            <p>Name: {contact.name}</p>\n            <p>Number: {contact.number}</p>\n            </div>\n            <button className={css.btn} onClick={() => handleDeleteContact(contact.id)}>Delete</button>\n          </li>\n        )\n      })}\n      </ul>}\n    </div>\n  )\n};\n\nexport default WithAuthRedirect(ContactsPage, '/login');"],"names":["ContactForm","onSubmit","useState","name","setName","number","setNumber","handleInputChange","e","target","value","className","css","preventDefault","type","pattern","title","placeholder","required","onChange","selectLoading","state","contacts","isLoading","selectFilter","filter","selectFilteredContacts","data","selectContacts","contact","toLowerCase","includes","dispatch","useDispatch","useSelector","setFilter","Component","navigateTo","props","isLoggedIn","selectIsLoggedIn","useEffect","localStorage","getItem","getCurrentUserRequest","setIsLoggedIn","to","WithAuthRedirect","getContactsRequest","formData","addContactRequest","Loader","length","map","onClick","contactId","id","deleteContactRequest"],"sourceRoot":""}